plugins {
  id "com.android.library"
  id "org.jetbrains.kotlin.android"
  id "com.squareup.wire"
}

wire {
  kotlin { }
}

android {
  defaultConfig {
    consumerProguardFile "laboratory-shrinking.pro"
  }

  sourceSets {
    getByName("main").java.srcDirs += "$buildDir/generated/source/wire/"
  }

  testOptions.unitTests.all {
    useJUnitPlatform()
  }
}

dependencies {
  api project(":laboratory")
  api libs.android.x.dataStore
  api libs.wire.runtime

  testImplementation libs.kotest.runnerJunit5
  testImplementation libs.kotest.assertions
  testImplementation libs.turbine
}

apply from: "$rootDir/gradle/gradle-mvn-push.gradle"
